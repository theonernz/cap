<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>🦅 海鸥世界 Seagull World - v1.1</title>
    <link rel="stylesheet" href="general/css/dashboard.css?v=1.1">
</head>
<body>
    <div class="dashboard-container">
        <!-- 顶部导航栏 -->
        <header class="dashboard-header">
            <div class="logo-section">
                <h1 class="world-logo" data-lang-key="seagullWorld">🦅 海鸥世界</h1>
                <p class="world-tagline" data-lang-key="platformTagline">Seagull World - Your Gaming Platform</p>
            </div>
            
            <div class="header-actions">
                <!-- 登录/注册按钮（游客模式） -->
                <div id="guestActions" class="guest-actions">
                    <button class="auth-btn login-btn" onclick="SeagullWorldUI.showAuthDialog('login')">
                        🔓 <span data-lang-key="login">登录</span>
                    </button>
                    <button class="auth-btn register-btn" onclick="SeagullWorldUI.showAuthDialog('register')">
                        ✨ <span data-lang-key="register">注册</span>
                    </button>
                </div>
                
                <!-- 用户菜单（已登录） -->
                <div id="userMenu" class="user-menu" style="display: none;">
                    <div class="user-info">
                        <div class="user-name" id="userName">玩家</div>
                        <div class="user-stats">
                            <span class="user-level" id="userLevel">Lv.1</span>
                            <span class="user-coins" id="userCoins">💰 100</span>
                        </div>
                    </div>
                    <button class="logout-btn auth-btn" onclick="SeagullWorldUI.logout()"><span data-lang-key="logout">退出</span></button>
                </div>
                
                <!-- 语言切换 -->
                <button class="lang-switch-btn" id="langSwitchBtn" onclick="SeagullWorldUI.toggleLanguage()">
                    <span id="langIcon">🌐</span> <span id="langText">EN</span>
                </button>
            </div>
        </header>

        <!-- 主内容区 -->
        <main class="dashboard-main">
            <!-- 欢迎横幅 -->
            <section class="welcome-banner">
                <h2 id="welcomeTitle" data-lang-key="welcomeTitle">欢迎来到海鸥世界！</h2>
                <p class="welcome-subtitle" data-lang-key="welcomeSubtitle">探索精彩的海鸥游戏系列</p>
                <button class="play-btn primary" onclick="window.location.href='/game'" style="margin-top: 20px; max-width: 300px;">
                    🎮 <span data-lang-key="enterGameHall">进入游戏大厅</span>
                </button>
            </section>

            <!-- 游戏卡片网格 -->
            <section class="games-grid">
                <!-- 游戏1: 海鸥吃扇贝 -->
                <div class="game-card featured">
                    <div class="game-badge">🔥 <span data-lang-key="hot">热门</span></div>
                    <div class="game-icon">🦅</div>
                    <h3 class="game-title" data-lang-key="seagullEatScallops">海鸥吃扇贝</h3>
                    <p class="game-description" data-lang-key="scallopsDescription">
                        在海洋中自由翱翔，捕食扇贝成长为最强海鸥！支持单人和多人模式。
                    </p>
                    <div class="game-stats">
                        <span id="onlinePlayersCount">🎮 <span data-lang-key="online">在线</span>: <span id="onlineNumber">-</span></span>
                        <span>⭐ <span data-lang-key="rating">评分</span>: 4.8</span>
                    </div>
                    <div class="game-actions">
                        <button class="play-btn primary" onclick="enterGame('scallopsIO')">
                            🎮 <span data-lang-key="startGame">开始游戏</span>
                        </button>
                        <button class="play-btn secondary" onclick="enterGameAnonymous('scallopsIO')">
                            👤 <span data-lang-key="anonymousTry">匿名试玩</span>
                        </button>
                    </div>
                </div>

                <!-- 游戏2: 海鸥竞速 -->
                <div class="game-card coming-soon">
                    <div class="game-badge coming-soon-badge" data-lang-key="comingSoon">即将推出</div>
                    <div class="game-icon">🏁</div>
                    <h3 class="game-title" data-lang-key="seagullRacing">海鸥竞速</h3>
                    <p class="game-description" data-lang-key="racingDescription">
                        与其他海鸥展开激烈的空中竞速比赛，穿越各种障碍挑战极限！
                    </p>
                    <div class="game-stats">
                        <span>🚀 2026 Q1</span>
                        <span data-lang-key="racing">🎯 竞速</span>
                    </div>
                    <div class="game-actions">
                        <button class="play-btn disabled" disabled>
                            ⏳ <span data-lang-key="stayTuned">敬请期待</span>
                        </button>
                    </div>
                </div>

                <!-- 游戏3: 海鸥冒险 -->
                <div class="game-card coming-soon">
                    <div class="game-badge coming-soon-badge" data-lang-key="inDevelopment">开发中</div>
                    <div class="game-icon">🗺️</div>
                    <h3 class="game-title" data-lang-key="seagullAdventure">海鸥冒险</h3>
                    <p class="game-description" data-lang-key="adventureDescription">
                        探索神秘的海岛世界，解锁新技能，收集宝藏，成为传奇海鸥！
                    </p>
                    <div class="game-stats">
                        <span data-lang-key="openWorld">🌍 开放世界</span>
                        <span data-lang-key="adventure">🎯 冒险</span>
                    </div>
                    <div class="game-actions">
                        <button class="play-btn disabled" disabled>
                            ⏳ <span data-lang-key="stayTuned">敬请期待</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- 用户统计面板（仅登录用户可见） -->
            <section class="user-stats-section" id="userStatsSection" style="display: none;">
                <h3>📊 <span data-lang-key="myStats">我的统计</span></h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">💰</div>
                        <div class="stat-info">
                            <div class="stat-label" data-lang-key="seagullCoins">海鸥币</div>
                            <div class="stat-value" id="totalCoins">0</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">🎮</div>
                        <div class="stat-info">
                            <div class="stat-label" data-lang-key="playTime">游戏时长</div>
                            <div class="stat-value" id="totalPlaytime">0h</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">🏆</div>
                        <div class="stat-info">
                            <div class="stat-label" data-lang-key="achievements">成就</div>
                            <div class="stat-value" id="totalAchievements">0/50</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">⭐</div>
                        <div class="stat-info">
                            <div class="stat-label" data-lang-key="level">等级</div>
                            <div class="stat-value" id="playerLevel">1</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 页脚 -->
        <footer class="dashboard-footer">
            <p><span data-lang-key="copyright">© 2025 Seagull World. All rights reserved.</span></p>
            <div class="footer-links">
                <a href="#" data-lang-key="aboutUs">关于我们</a>
                <a href="#" data-lang-key="privacy">隐私政策</a>
                <a href="#" data-lang-key="terms">服务条款</a>
                <a href="#" data-lang-key="contact">联系我们</a>
            </div>
        </footer>
    </div>

    <!-- 认证对话框 -->
    <div class="auth-dialog-overlay" id="authDialogOverlay" style="display: none;">
        <div class="auth-dialog">
            <div class="auth-dialog-header">
                <h2 id="authDialogTitle">登录海鸥世界</h2>
                <button class="auth-close-btn" onclick="SeagullWorldUI.closeAuthDialog()">×</button>
            </div>
            
            <div class="auth-dialog-body">
                <!-- 登录表单 -->
                <div id="loginForm" class="auth-form">
                    <div class="auth-branding">
                        <span class="auth-logo">🦅</span>
                        <p class="auth-welcome">欢迎回到海鸥世界</p>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="loginUsername">用户名</label>
                        <input type="text" id="loginUsername" placeholder="请输入用户名" autocomplete="username">
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="loginPassword">密码</label>
                        <input type="password" id="loginPassword" placeholder="请输入密码" autocomplete="current-password">
                    </div>
                    
                    <div class="auth-remember">
                        <label>
                            <input type="checkbox" id="rememberMe">
                            记住我 (30天)
                        </label>
                    </div>
                    
                    <button class="auth-submit-btn" onclick="SeagullWorldUI.handleLogin()">
                        登录
                    </button>
                    
                    <div class="auth-switch">
                        还没有账号？
                        <a href="#" onclick="SeagullWorldUI.switchToRegister(); return false;">立即注册</a>
                    </div>
                </div>
                
                <!-- 注册表单 -->
                <div id="registerForm" class="auth-form" style="display: none;">
                    <div class="auth-branding">
                        <span class="auth-logo">🦅</span>
                        <p class="auth-welcome">加入海鸥世界</p>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="registerUsername">用户名</label>
                        <input type="text" id="registerUsername" placeholder="3-20个字符" autocomplete="username">
                        <small>支持字母、数字、下划线、中文</small>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="registerPassword">密码</label>
                        <input type="password" id="registerPassword" placeholder="至少6个字符" autocomplete="new-password">
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="registerPasswordConfirm">确认密码</label>
                        <input type="password" id="registerPasswordConfirm" placeholder="再次输入密码" autocomplete="new-password">
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="registerDisplayName">显示名称（可选）</label>
                        <input type="text" id="registerDisplayName" placeholder="游戏中显示的名字">
                    </div>
                    
                    <button class="auth-submit-btn" onclick="SeagullWorldUI.handleRegister()">
                        注册并开始游戏
                    </button>
                    
                    <div class="auth-switch">
                        已有账号？
                        <a href="#" onclick="SeagullWorldUI.switchToLogin(); return false;">立即登录</a>
                    </div>
                </div>
                
                <div class="auth-error" id="authError" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- 通知容器 -->
    <div id="notificationContainer"></div>

    <!-- JavaScript -->
    <script src="general/js/config.js?v=1.1"></script>
    
    <!-- File Storage System (JSON-based) - Must load BEFORE auth.js -->
    <script src="general/js/file-storage-client.js?v=1.1"></script>
    
    <!-- Seagull World Platform Systems -->
    <script src="general/js/seagull-world/auth.js?v=1.2"></script>
    <script src="general/js/seagull-world/ui.js?v=1.2"></script>
    <script src="general/js/seagull-world/game-registry.js?v=1.1"></script>
    <script src="general/js/dashboard.js?v=1.1"></script>
</body>
</html>
